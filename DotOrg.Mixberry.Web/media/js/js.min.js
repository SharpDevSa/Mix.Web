function init() { $("#tabs").organicTabs({ speed: 200 }); $(".slider-for").slick({ slidesToShow: 1, slidesToScroll: 1, arrows: !1, fade: !0, asNavFor: ".slider-nav", swipe: !1 }); $(".slider-nav").slick({ slidesToShow: 4, slidesToScroll: 1, asNavFor: ".slider-for", dots: !0, focusOnSelect: !0, swipe: !1, responsive: [{ breakpoint: 980, settings: { slidesToShow: 3, swipe: !0, infinite: !1 } }, { breakpoint: 801, settings: { slidesToShow: 2, swipe: !0, infinite: !1 } }, { breakpoint: 641, settings: { slidesToShow: 4, swipe: !0, infinite: !1 } }, { breakpoint: 481, settings: { slidesToShow: 3, swipe: !0, infinite: !1, dots: !0 } }, { breakpoint: 381, settings: { slidesToShow: 2, swipe: !0, infinite: !1, dots: !0 } }] }); $("#product-details-owl").owlCarousel({ nav: !0, items: 1, responsive: { 641: { items: 2 } } }); Selects.init(); initVideo(); applySizes(); $(window).on("resize", applySizes); $(document).on("click", "#search-icon", toggleSearch); $(document).on("blur", "#search-start-text", toggleSearch); $(document).on("click", "#seacrh-start-button", function (n) { n.preventDefault(); n.stopPropagation(); $("#ya-site-form0 .ya-site-form__submit").click() }); $(document).on("keyup change", "#search-start-text", function (n) { $("#ya-site-form0 .ya-site-form__input-text").val($(this).val()); n.type == "keyup" && n.keyCode == 13 && $("#ya-site-form0 .ya-site-form__submit").click() }); $("#map").is(":visible") && initialize(); $("#product-slider").owlCarousel({ items: 1, margin: 10, nav: !0, loop: !0 }); $("#top-page-slider").owlCarousel({ items: 1, margin: 10, nav: !0, loop: !0 }); $("[data-select-block]").on("change", function () { var n = $(this), i = n.val(), r = n.data("select-block"), t = $("#" + i); $(r).hide(); t.show(); TweenMax.staggerFromTo(t.find(".products-list_item"), .5, { alpha: 0, scale: .8 }, { alpha: 1, scale: 1, ease: Back.easeOut }, .1) }); $("[data-select-partners]").on("change", function () {var i = $(this), t = Number(i.val()), n = $(i.data("select-partners")).find(".partners-item"), r = [], u = []; n.removeClass("target"); n.find(".partners-item_desc-country span").removeClass("active"); n.each(function (i) { var f = n.eq(i); f.data("countries").in_array(t) ? (u.push(f), f.find(".country-" + t).addClass("active"), f.addClass("target")) : r.push(f) }); t > 0 ? (TweenMax.staggerFromTo(r, .5, { alpha: 1, scale: 1 }, { alpha: 0, scale: .7, ease: Back.easeOut }, .1), TweenMax.staggerFromTo(u, .5, { alpha: 0, scale: .7 }, { alpha: 1, scale: 1, ease: Back.easeOut }, .1)) : TweenMax.staggerFromTo(n, .5, { alpha: 0, scale: .7 }, { alpha: 1, scale: 1, ease: Back.easeOut }, .1) }); $("[data-select-retailers]").on("change", function () { var r = $(this), t = r.val(), i, n; console.log(t); i = $("#retailers-list"); n = t === "all" ? i.find(".inner-category") : $("#" + t); n.size() == 1 && i.find(".inner-category").hide(); n.show(); TweenMax.staggerFromTo(n.find(".partners-item"), .5, { alpha: 0, scale: .8 }, { alpha: 1, scale: 1, ease: Back.easeOut }, .1) }); if ($(".category-navigation").css({ top: ($(window).height() - $(".category-navigation").outerHeight()) / 2 }), $("#point-nav").offset()) { $("#point-nav").onePageNav({ currentClass: "active", changeHash: !1, scrollSpeed: 750, scrollThreshold: .5, filter: "", easing: "swing", scrollChange: function (n) { var t = $("#point-nav"); t.removeClass("dark").removeClass("white").addClass(n.data("classname")) }, end: function () { var n = $("#point-nav"); n.removeClass("dark").removeClass("white").addClass($("#point-nav .active").data("classname")) } }); $(".tooltip-link").tooltip({ container: "body", placement: "left" }) } if ($("#scroll-up").offset()) { $(window).scroll(0) && $("#scroll-up").hide(); $(window).scroll(function () { $(this).scrollTop() > 100 ? $("#scroll-up").fadeIn() : $("#scroll-up").fadeOut() }); $("#scroll-up").on("click", function () { return $("body,html").animate({ scrollTop: 0 }, 400), !1 }) } if ($("#lamp").is(":visible")) { var n = "#effect-lamp .effect", t = "#radio-waves span"; TweenMax.set(n, { alpha: 0, scale: .1 }); TweenMax.set(t, { alpha: 0 }); $("#lamp").on("mouseenter", function () { var i = new TimelineMax; i.staggerFromTo(t, .35, { alpha: 0 }, { alpha: 1, ease: Power2.easeOut }, .05, .3); i.to(n, 1, { alpha: 1, scale: 1, ease: Power2.easeOut }) }); $("#lamp").on("mouseleave", function () { TweenMax.to(t, .35, { alpha: 0, ease: Power2.easeOut }, .3); TweenMax.to(n, .5, { alpha: 0, scale: .1, ease: Power2.easeOut }) }) } if ($(".speaker-button").offset()) $(".speaker-button a").on("click", function (n) { n.preventDefault(); $("#speaker-gallery img").attr("src") != $(this).attr("href") && ($(this).parents(".speaker-button").find(".active").removeClass("active"), $(this).addClass("active"), $("#speaker-gallery img").attr("src", $(this).attr("href"))) }); $("#mobile-menu-toggler").on("click", function (n) { n.preventDefault(); $(this).toggleClass("active"); $("#menu").toggle() }); $(document).on("click", "div.product-card .product-card_image", rotateProductCard); $(document).on("click", "[data-url]", toggleProductColor); $(document).on("submit", ".ajax-form", function (n) { n.preventDefault(); loader("show"); var t = $(this), i = t.serialize(), r = t.attr("action"); $.post(r, i, function (n) { loader("hide"); swal({ title: "Thank you!", text: "You are subscribed now!", type: "success", allowOutsideClick: !0, confirmButtonColor: "#3bb077" }); !n || !n.errors || !n.errors.length || console.log(n.errors) }) }) } function loader(n) { n == "show" ? ($("#mask").show(), TweenMax.to($("#mask"), .5, { alpha: 1, ease: Power2.easeOut })) : n == "hide" && TweenMax.to($("#mask"), .5, { alpha: 0, ease: Power2.easeOut, onComplete: function () { $("#mask").hide() } }) } function applySizes() { var r; $("#point-nav.about-point-nav").is(":visible") && $("#point-nav.about-point-nav").css("left", $("#header-logo-container").offset().left); var t = $(window).width(), n = $("#menu"), i = $("#mobile-menu-toggler"); if ($("#menu #search-start-text").removeAttr("placeholder"), $("#menu .search-field").removeClass("closed"), t <= 1120) { $("body").data("s").resized = !0; r = $(".header-aside_search .search-field").clone(!0); n.append(r); i.show(); $("#mobile-menu-toggler").hasClass("active") ? n.show() : n.hide(); $("#touch-menu li").off("click"); $("#touch-menu li").on("click", function (n) { n.stopPropagation(); var t = $(this), i = $(this).find(".toggle-section").eq(0); t.hasClass("opened") ? (t.removeClass("opened"), i.hide()) : (t.addClass("opened"), i.show()) }) } else t > 1120 && (n.find(".search-field").remove(), i.hide(), $("#touch-menu li").off("click"), $("#touch-menu ul, #touch-menu li").attr("style", ""), initMenu(), n.show()) } function toggleProductColor(n) { var i, r, t; if (n.stopPropagation(), i = $(this), !i.hasClass("active")) { r = i.parents(".product-card"); t = r.find(".product-card_image-cover img").eq(0); r.find(".active").removeClass("active"); i.addClass("active"); TweenMax.to(t, .3, { alpha: 0, scale: .9, ease: Power2.easeOut }); productPreloaderShow(r.find(".product-card_image-cover")); t.off("load"); t.on("load", function () { TweenMax.to(r.find(".spinner"), .3, { alpha: 0, ease: Power2.easeOut }); TweenMax.to(t, .3, { alpha: 1, scale: 1, ease: Power2.easeOut, delay: .3 }) }); t.attr("src", i.data("url") + "&r=" + Math.random()) } } function productPreloaderShow(n) { n.find(".spinner").size() > 0 ? TweenMax.set(n.find(".spinner"), { alpha: 1 }) : n.append($("#product-spinner .spinner").clone(!0)) } function rotateProductCard(n) { n.stopPropagation(); var t = $(this).parents(".product"), i = $(this).parents(".product-card"); i.hasClass("front-side") ? rotateProductCardToBack(t) : rotateProductCardToFront(t) } function rotateProductCardToBack(n) { var t = n.find(".front-side"), i = n.find(".back-side"), r = t.outerHeight(), u = i.outerHeight(); r < u && (t.data("_g", { height: r }), TweenMax.to(t, .35, { height: u, ease: Circ.easeOut })); n.css("z-index", 100); TweenMax.to(t, .35, { rotationY: 90, scale: .8, ease: Circ.easeIn }); TweenMax.set(t, { alpha: 0, zIndex: 1, delay: .36 }); TweenMax.set(i, { rotationY: -90, delay: .37, alpha: 1, scale: .8, zIndex: 2 }); TweenMax.to(i, .35, { rotationY: 0, scale: 1, ease: Circ.easeOut, delay: .45 }) } function rotateProductCardToFront(n) { var i = n.find(".back-side"), t = n.find(".front-side"); t.data("_g") && t.data("_g").height < i.outerHeight() && TweenMax.to(t, .35, { height: t.data("_g").height, ease: Circ.easeIn }); TweenMax.to(i, .35, { rotationY: 90, scale: .8, ease: Circ.easeIn }); TweenMax.set(i, { alpha: 0, zIndex: 1, delay: .36 }); TweenMax.set(t, { rotationY: -90, delay: .37, alpha: 1, scale: .8, zIndex: 2 }); TweenMax.to(t, .35, { rotationY: 0, scale: 1, ease: Circ.easeOut, delay: .45, onComplete: function () { n.css("z-index", 1) } }) } function toggleSearch() { var n = $("#main-header .search-field"); n.hasClass("closed") ? (TweenMax.set(n, { alpha: 0, width: 0, display: "block" }), TweenMax.to(n, .5, { alpha: 1, width: 240, ease: Power2.easeOut, onComplete: function () { n.removeClass("closed") } })) : TweenMax.to(n, .5, { alpha: 0, width: 0, ease: Power2.easeOut, onComplete: function () { TweenMax.set(n, { display: "none" }); n.addClass("closed") } }) } function initMenu() { $("#menu .parent[role='menuitem']").each(function () { var n = $(this); n.on("click", function (t) { t.preventDefault(); n.hasClass("current") ? (n.removeClass("current"), closeSubmenu()) : (n.addClass("current"), openSubmenu()) }) }) } function openSubmenu() { var t = $("#menu .current").eq(0), i = t.hasClass("parent"), n = $("#submenu"); if (i) { var t = $("#menu .current").eq(0), r = t.find(".inner-menu").clone(!0), n = $("#submenu"); n.show(); n.html(r); TweenMax.to(n, .1, { autoAlpha: 1, ease: Power2.easeIn, force3D: !0, onComplete: function () { n.addClass("open") } }); TweenMax.staggerFromTo(n.find("li"), .5, { alpha: 0, scale: .95, rotationX: -10 }, { alpha: 1, scale: 1, rotationX: 0, ease: Back.easeOut, delay: .05 }, .02) } } function closeSubmenu() { var n = $("#submenu"); TweenMax.to(n, .2, { alpha: 0, onComplete: function () { n.removeClass("open").hide() } }) } function preload() { var n = new PxLoader; $("img").each(function () { var t = $(this), i = new PxLoaderImage(t.attr("src")); n.add(i) }); n.addProgressListener(function (n) { $("#mask-for-page-loading .scale").css("width", "" + Math.ceil(n.completedCount / n.totalCount * 100) + "%") }); n.addCompletionListener(function () { $("#mask-for-page-loading").fadeOut(); init() }); n.start() } function initVideo() { var n = $(".video-wrap"); n.each(function () { var n = $(this), t = n.find(".video-button"); n.on("click", function (t) { t.stopPropagation(); toggleVideo(n) }) }) } function toggleVideo(n) { var r = n.find(".video-wrap_play"), i = n.find(".video-wrap_pause"), t = n.find("video").get(0); $("body").data("_global").player = t; t.paused ? (t.play(), r.addClass("video-wrap_hide"), i.removeClass("video-wrap_show").css("z-index", 5)) : (t.pause(), i.addClass("video-wrap_show")); $("body").data("_global").playButtonInited || (t.onended = function () { r.removeClass("video-wrap_hide").css("z-index", 5); i.css("z-index", 4); $("body").data("_global").playButtonInited = !0 }) } function playVideo(n) { var t = n.find(".video-wrap_play"), i = n.find(".video-wrap_pause"), r = n.get(0); r.play(); t.addClass("video-wrap_hide"); i.removeClass("video-wrap_show").css("z-index", 5) } function stopVideo(n) { var r = n.find(".video-wrap_play"), t = n.find(".video-wrap_pause"), i = n.get(0); i.pause(); t.addClass("video-wrap_show") } var Selects, _menuDelay; Array.prototype.in_array = function (n) { for (var t = 0, i = this.length; t < i; t++) if (this[t] == n) return !0; return !1 }; $(function () { $("body").data("s", { resized: !1 }); $("body").data("_global", { closeMenuTM: 0, changeMenuItemTM: 0, menuActiveList: !1, targetElement: !1, isHover: !1, playButtonInited: !1, player: !1 }); preload() }); Selects = { init: function () { for (var t = $(".i-select select").not(".defered-select"), i = t.length, n = 0; n < i; n++) this._initSelect(t.eq(n)) }, _initSelect: function (n) { var t = { active: !1 }, f, r, i; t.$select = n; t.$iSelect = t.$select.parents(".i-select"); t.$selectValue = t.$iSelect.find(".i-select__value"); $(window).on("click", function (n) { var i = $(n.target); i.is(t.$select) || i.is(t.$optionsBlock) || t.close() }); t.$select.on("mousedown", function (n) { n.preventDefault(); t.toggle() }); for (t.$options = n.find("option"), f = t.$options.length, r = "<ul class='i-select-list nonselectable'>", i = 0; i < f; i++) {var u=t.$options.eq(i),e=u.attr("selected")?"i-select-list__item_active":"",o=t.$select.hasClass("lang-select")?"<a href='"+u.val()+"'>":"",s=t.$select.hasClass("lang-select")?"<\/a>":"";r+="<li class='i-select-list__item "+e+"' data-option-id='"+i+"'>"+o+u.text()+s+"<\/a><\/li>"}r+="<\/ul>";try{t.$selectValue.text(n.get(0).options[n.get(0).selectedIndex].text)}catch(h){console.log(h)}t.$optionsBlock=$(r);t.$optionsBlock.insertAfter(n).hide();t.$lis=t.$optionsBlock.find("li");t.$lis.on("click",function(){t.$lis.removeClass("i-select-list__item_active");var i=$(this).addClass("i-select-list__item_active"),n=t.$options.removeAttr("selected").eq(parseInt(i.attr("data-option-id")));n.attr("selected","");t.$select.attr("value",n.attr("value")).attr("title",n.text());t.$selectValue.text(n.text()).attr("title",n.text()).removeClass("form-select__value_placeholder");t.$select.trigger("change");TweenMax.fromTo(t.$selectValue,.5,{alpha:0},{alpha:1})});TweenMax.set(t.$optionsBlock,{transformOrigin:"50% 0%",transformPerspective:300,force3D:!0});TweenMax.set(t.$optionsBlock,{rotationX:-5,autoAlpha:0});t.open=function(){this.active||(this.active=!0,this.$iSelect.addClass("form-select_opened"),this.$optionsBlock.show(),TweenMax.to(this.$optionsBlock,.35,{rotationX:0,autoAlpha:1}))};t.close=function(){this.active&&(this.active=!1,this.$iSelect.removeClass("form-select_opened"),TweenMax.to(this.$optionsBlock,.35,{rotationX:-5,autoAlpha:0,onComplete:Selects._hide,onCompleteParams:[this.$optionsBlock]}))};t.toggle=function(){this.active?this.close():this.open()}},_hide:function(n){n.hide()}};_menuDelay=10;